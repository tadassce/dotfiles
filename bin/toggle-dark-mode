#!/usr/bin/env bash


if [[ $(defaults read -g AppleInterfaceStyle 2>&1) =~ ^Dark$ ]]; then
  mode="Light"
  bg="white"
  fg="black"
else
  mode="Dark"
  bg="black"
  fg="white"
fi

osascript <<APPLESCRIPT
  tell application "System Events"
    tell appearance preferences
      set dark mode to not dark mode
    end tell
  end tell

  tell application "Terminal"
    set default settings to settings set "TS $mode"
  end tell

  # tell application "Terminal"
  #   set current settings of tabs of windows to settings set "TS $mode"
  # end tell
APPLESCRIPT

tmux set -g status-style "fg=$fg,bg=$bg"
tmux set -g status-left-style "fg=$fg,bg=$bg"
