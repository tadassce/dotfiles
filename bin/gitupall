#! /usr/bin/env ruby

def emoji
  case `git remote -v`
  when /github/ then '🐙'
  when /gitlab/ then '😸'
  else               '🤖'
  end
end

home = Dir.pwd

Dir['*']
  .select { |d| File.exist?("#{d}/.git") }
  .each do |dir|

  Dir.chdir dir

  name = dir.split('/').last
  puts "\n#{emoji} Pulling #{name}"
  system 'git pull'

  Dir.chdir home
end
