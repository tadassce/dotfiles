#! /usr/bin/env ruby

res = %x(~/Dot/bin/battery Discharging).strip
plugged = false

if res.empty?
  res = %x(~/Dot/bin/battery Charging).strip
  plugged = true
end

percentage = res.to_i

char = if plugged
  if percentage == 0
    'ğŸ’¯ '
  elsif percentage > 95
    'ğŸ‘ŒğŸ» '
  else
    "#{percentage}% ğŸ”Œ "
  end
else # unplugged
  case percentage
    when 80..99 then 'â˜•ï¸ '
    when 60..80 then 'ğŸ© '
    when 40..60 then 'ğŸ‰ '
    when 20..40 then 'ğŸ• '
    when 1..20  then 'âš ï¸ '
  end
end

puts "#{char} "
